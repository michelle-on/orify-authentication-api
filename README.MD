# ğŸ” Authentication API - OriFy

API de autenticaÃ§Ã£o.<br>
**Stacks:** Ktor, MongoDB, Bcrypt

---

## âš™ï¸ ConfiguraÃ§Ã£o das VariÃ¡veis de Ambiente

Antes de rodar a aplicaÃ§Ã£o, defina as seguintes variÃ¡veis de ambiente:

| ğŸ·ï¸ VariÃ¡vel                   | ğŸ“ DescriÃ§Ã£o                              | ğŸ’¡ Exemplo                                      |
|-------------------------------|-------------------------------------------|-------------------------------------------------|
| `MONGODB_CONNECTION_STRING`   | String de conexÃ£o do MongoDB              | `mongodb+srv://usuario:senha@host/db?retryWrites=true&w=majority` |
| `MONGODB_DATABASE_AUTH`       | Nome do banco de dados de autenticaÃ§Ã£o    | `authentication`                                |
| `MONGODB_USERS_COLLECTION`    | Nome da coleÃ§Ã£o de usuÃ¡rios (opcional)    | `users`                                         |

VocÃª pode definir as variÃ¡veis no terminal:

```sh
export MONGODB_CONNECTION_STRING="mongodb+srv://usuario:senha@host/db?retryWrites=true&w=majority"
export MONGODB_DATABASE_AUTH="authentication"
export MONGODB_USERS_COLLECTION="users"
```

Ou criar um arquivo `.env` (se usar um loader de env):

```
MONGODB_CONNECTION_STRING=mongodb+srv://usuario:senha@host/db?retryWrites=true&w=majority
MONGODB_DATABASE_AUTH=authentication
MONGODB_USERS_COLLECTION=users
```

---

## ğŸš¦ Endpoints

### ğŸ“ Registro de UsuÃ¡rio

- **POST** `/register`
- **Body:**
    ```json
    {
      "email": "seu@email.com",
      "username": "seunome",
      "password": "suaSenha@123"
    }
    ```
- **Respostas:**
    - `201` âœ… UsuÃ¡rio registrado com sucesso
    - `409` âš ï¸ Email jÃ¡ estÃ¡ em uso ou nome de usuÃ¡rio indisponÃ­vel
    - `400` âŒ Dados invÃ¡lidos

---

### ğŸ”‘ Login

- **POST** `/login`
- **Body:**
    ```json
    {
      "identifier": "seu@email.com ou seunome",
      "password": "suaSenha@123"
    }
    ```
- **Respostas:**
    - `200` âœ… Login realizado com sucesso
    - `401` âŒ Credenciais invÃ¡lidas

---

## â–¶ï¸ Como rodar

1. ğŸ“¦ Instale as dependÃªncias:
    ```sh
    ./gradlew build
    ```
2. ğŸ› ï¸ Defina as variÃ¡veis de ambiente conforme acima.
3. ğŸš€ Rode a aplicaÃ§Ã£o:
    ```sh
    ./gradlew run
    ```

---

## ğŸ’¬ DÃºvidas ou sugestÃµes?

Abra uma issue! Ficarei feliz em ajudar.
